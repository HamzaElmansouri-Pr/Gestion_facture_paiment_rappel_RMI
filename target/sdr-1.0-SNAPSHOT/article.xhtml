<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Gestion des Articles</title>
</h:head>
<h:body>
    <h1>CRUD - Articles</h1>

    <h:form>
        <h:panelGrid columns="2" cellpadding="5">
            <h:outputLabel for="ref" value="Référence:" />
            <h:inputText id="ref" value="#{articleBean.article.reference}" required="true" />

            <h:outputLabel for="prix" value="Prix:" />
            <h:inputText id="prix" value="#{articleBean.article.prix}" required="true" />

            <h:commandButton value="Enregistrer" action="#{articleBean.save}" />
        </h:panelGrid>
    </h:form>

    <h:form>
        <h:dataTable value="#{articleBean.articles}" var="a" border="1" cellpadding="5" style="margin-top:20px;">
            <h:column>
                <f:facet name="header">ID</f:facet>
                #{a.id}
            </h:column>
            <h:column>
                <f:facet name="header">Référence</f:facet>
                #{a.reference}
            </h:column>
            <h:column>
                <f:facet name="header">Prix</f:facet>
                #{a.prix}
            </h:column>
            <h:column>
                <h:commandLink value="Modifier" action="#{articleBean.edit(a)}" />
                |
                <h:commandLink value="Supprimer" action="#{articleBean.delete(a)}" 
                               onclick="return confirm('Confirmer suppression ?');" />
            </h:column>
        </h:dataTable>
    </h:form>

</h:body>
</html>
